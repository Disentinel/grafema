# User Request: REG-97

## Linear Issue

**REG-97: Auto-reanalyze stale modules before validation**

## Описание

При запуске `grafema check --guarantee=...` или любой другой валидации через граф, нужно автоматически проверять актуальность данных и переанализировать изменённые файлы.

## Проблема

Сейчас можно запустить проверку на устаревших данных:

1. Пользователь изменил код
2. Запустил `grafema check` без `grafema analyze`
3. Проверка прошла успешно на старых данных
4. Реальные нарушения не обнаружены

Это приводит к false negatives и подрывает доверие к инструменту.

## Решение

Перед выполнением валидации:

1. Получить список всех MODULE нод из графа
2. Для каждого модуля сравнить `contentHash` с текущим хэшем файла
3. Если хэши не совпадают — файл изменился
4. Запустить incremental analysis для изменённых модулей
5. Только потом выполнить валидацию

## Связь с существующим кодом

* `IncrementalAnalysisPlugin` уже умеет определять изменённые файлы
* `ModuleNode` хранит `contentHash`
* Нужно интегрировать эту логику в CLI команды проверки

## Acceptance Criteria

- [ ] `grafema check` автоматически проверяет актуальность графа
- [ ] Изменённые файлы переанализируются перед проверкой
- [ ] Добавлен флаг `--skip-reanalysis` для пропуска (CI optimization)
- [ ] Warning выводится если файлы были переанализированы
- [ ] Performance: проверка хэшей < 1 секунда для 1000 файлов
