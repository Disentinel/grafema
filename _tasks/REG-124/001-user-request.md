# REG-124: Research: Выбор языка для ядра Grafema

## Цель

Определить оптимальный язык для переписывания ядра Grafema, который даст:

* Значительное сокращение объёма кода (цель: 3-5x)
* Сохранение/улучшение производительности
* Возможность JS/TS плагинов через WASM или FFI

## Контекст

Текущий стек: TypeScript. Проблема: многословность, простые идеи тонут в церемониальном коде.

## План

### 1. Составить shortlist языков-кандидатов

Критерии отбора:

* Выразительность (паттерн-матчинг, ADT, вывод типов)
* Производительность
* Качество экосистемы для парсинга/анализа
* Насколько хорошо AI генерирует код
* WASM/FFI для интеропа с JS

### 2. Определить части кодовой базы для анализа

* Что выиграет от смены языка (ядро анализа)
* Что проиграет или останется на TS (плагины, CLI)

### 3. Провести сравнительный бенчмарк

* Переписать эталонный кусок кода на каждом языке
* Сравнить: LOC, время выполнения, memory footprint
* Оценить читаемость и maintainability

## Критерии готовности

- [ ] Shortlist из 4-6 языков с обоснованием
- [ ] Карта кодовой базы: что переносим / что остаётся
- [ ] Бенчмарк на реальном коде Grafema
- [ ] Рекомендация с trade-offs
